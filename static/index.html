<head>
  <title>Fast Landing Page</title>
  <meta charset="utf-8" />
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0 user-scalable=no" />
</head>

<body>
  <form id="theForm" method="post" action="#">
    <input type="text" id="jsData" />
    <label>Send API</label>
    <input type="submit" id="sender" />
  </form>
  <pre id="output"></pre>
</body>

<script>

  const getFormJSON = (form) => {
    const data = new FormData(form);
    return Array.from(data.keys()).reduce((result, key) => {
      result[key] = data.get(key);
      return result;
    }, {});
  };

  document.addEventListener("DOMContentLoaded", function () {
    let theForm = document.getElementById("theForm");
    let output = document.getElementById("output");
    
    theForm.addEventListener("submit", function(e){
      e.preventDefault()

      let data = document.getElementById('jsData')

      console.log('///////////////////////////')
      let fd = new FormData();
      fd.append('data', JSON.stringify(data));
  
      fetch('/', {　 // 送信先URL
        method: 'post', // 通信メソッド
        header: {
          'Content-Type': 'application/json' // JSON形式のデータのヘッダー
        },
        body: fd // JSON形式のデータ
      })
        .then(response => response.text())
        .then(fd => {
          console.log(fd);
        })
    })
  })


</script>


</html>